namespace "org.isda.cdm"

abstract class ContractualHeader <"An abstract class to specify the attributes that are common across contractual products and which apply across the pre-execution, execution and post-execution stages.">
{
	id string (0..1);
		[synonym FpML value id]
	productTaxonomy ProductTaxonomy (1..*) <"The product taxonomy value(s) associated with a contractual product.">;
	priceMultiplier number (0..1) <"The number of units of the underlying instrument represented by a single derivative contract.">;
}

abstract class ListedHeader <"An abstract class to holds the attributes that are common across listed products.">
{
	id string (0..1) anchor;
		[synonym FpML value id]
	productTaxonomy ProductTaxonomy (1..*) <"The product taxonomy value(s) associated with a product.">;
	productIdentifier ProductIdentifier (1..*) <"There can be several identifiers associated with a given product.">;
	description string (1..1) <"The product name.">;
		[synonym FpML value description]
	currency CurrencyEnum (0..1) <"The denomination currency of the instrument.">;
		[synonym FpML value currency]
	clearanceSystem string (0..1) scheme "clearanceSystemScheme" <"Identification of the clearance system associated with the transaction exchange.">;
		[synonym FpML value clearanceSystem]
}

class ListedProduct one of <"Product which terms are abstracted through a product identifier and are then publicly available through a central venue.">
{
	bond Bond (0..1);
		[synonym FpML value bond]
	convertibleBond ConvertibleBond (0..1);
		[synonym FpML value convertibleBond]
}

class ProductIdentifier <"The product identifier, composed of an identifier and a source.">
{
	productId string (1..1) scheme "instrumentIdScheme"  <"The product identifier.">;
		[synonym FpML value productId]
		[synonym FpML value instrumentId]
		/*
		 * TODO - Enhance the CDM model to position the productId scheme value as an enumeration
		 * This require mapping syntax enhancement.  The same approach should be applied to the taxonomy.
		 */
//	productIdSource ProductIdSourceEnum (1..1) scheme "instrumentIdScheme" <"The product identifier source.">;
//		[synonym FpML value productId]
//		[synonym FpML value instrumentId]
}

class ProductTaxonomy <"The product taxonomy, which is composed of a taxonomy value and a taxonomy source.">
{
	taxonomyValue string (1..1) scheme "productTypeScheme" <"The taxonomy value. The taxonomy source can be associated with that attribute through the scheme value.">;
		[synonym FpML value productId pathExpression "trade.swap"]
		[synonym FpML value productId pathExpression "trade.creditDefaultSwap"]
		[synonym FpML value productType pathExpression "trade.swap"]
		[synonym FpML value productType pathExpression "trade.creditDefaultSwap"]
		[synonym FpML value productType pathExpression "swap"]
		[synonym Rosetta_Workbench value productType pathExpression "swaption"]
		[synonym Rosetta_Workbench value productType pathExpression "swaption.swap"]
		[synonym FpML value primaryAssetClass pathExpression "trade.swap"]
		[synonym FpML value primaryAssetClass pathExpression "trade.creditDefaultSwap"]
		[synonym FpML value primaryAssetClass pathExpression "swap"]
		[synonym Rosetta_Workbench value primaryAssetClass pathExpression "swaption"]
		[synonym Rosetta_Workbench value primaryAssetClass pathExpression "swaption.swap"]
	taxonomySource TaxonomySourceEnum (0..1) <"The taxonomy source. It can be omitted when the taxonomy source is represented as part of the scheme associated with the taxonomy value attribute.">;
}
